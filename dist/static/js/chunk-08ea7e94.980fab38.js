(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-08ea7e94","chunk-290360f9"],{"3c6b":function(e,t,s){"use strict";var i=s("a013"),a=s("b146"),n=s("b0f4"),c=s("35dd");s("629c")("match",1,function(e,t,s,r){return[function(s){var i=e(this),a=void 0==s?void 0:s[t];return void 0!==a?a.call(s,i):new RegExp(s)[t](String(i))},function(e){var t=r(s,e,this);if(t.done)return t.value;var o=i(e),d=String(this);if(!o.global)return c(o,d);var l=o.unicode;o.lastIndex=0;var h,u=[],v=0;while(null!==(h=c(o,d))){var p=String(h[0]);u[v]=p,""===p&&(o.lastIndex=n(d,a(o.lastIndex),l)),v++}return 0===v?null:u}]})},"542e":function(e,t,s){"use strict";s.r(t);var i,a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.showDetail?i("div",{staticClass:"brand-detail"},[i("brand-detail",{attrs:{brandId:e.brandId},on:{closeBrandDetail:e.closeBrandDetail}})],1):i("div",{staticClass:"brand"},[i("div",{staticClass:"sketch-brand-header"},[i("div",{staticClass:"search"},[i("div",{staticClass:"search-icon icon-search"}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.keyword,expression:"keyword"}],staticClass:"search-input",attrs:{placeholder:"请输入搜索内容"},domProps:{value:e.keyword},on:{input:function(t){t.target.composing||(e.keyword=t.target.value)}}}),e.keyword?i("div",{staticClass:"search-clear",on:{click:e.clearKeyword}},[i("div",{staticClass:"icon-close"})]):e._e()])]),i("div",{staticClass:"brand-container"},[i("div",{staticClass:"brand-screen"},[i("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.handleStyleClose,expression:"handleStyleClose"}],staticClass:"brand-screen-select",on:{click:function(t){return e.showSelect("showStyle","showSpace","style",t)}}},[e._v(e._s(e.styleActive.name?e.styleActive.name:"选择风格")),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showStyle,expression:"showStyle"}],ref:"style",staticClass:"brand-screen-downdrop"},[i("div",{staticClass:"select-item",class:{"select-item-active":!e.styleActive.id},on:{click:function(t){return t.stopPropagation(),e.selectItem("styleActive",{name:"全部",id:""},"showStyle")}}},[i("span",[e._v("全部")]),i("i",{directives:[{name:"show",rawName:"v-show",value:!e.styleActive.id,expression:"!styleActive.id"}],staticClass:"iconfont icon-selected"})]),e._l(e.styleList,function(t){return i("div",{staticClass:"select-item",class:{"select-item-active":e.styleActive.id===t.id},on:{click:function(s){return s.stopPropagation(),e.selectItem("styleActive",t,"showStyle")}}},[i("span",[e._v(e._s(t.name))]),i("i",{directives:[{name:"show",rawName:"v-show",value:e.styleActive.id===t.id,expression:"styleActive.id === item.id"}],staticClass:"iconfont icon-selected"})])})],2)]),i("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.handleSpaceClose,expression:"handleSpaceClose"}],staticClass:"brand-screen-select",on:{click:function(t){return e.showSelect("showSpace","showStyle","space",t)}}},[e._v(e._s(e.spaceActive.name?e.spaceActive.name:"选择品类")),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showSpace,expression:"showSpace"}],ref:"space",staticClass:"brand-screen-downdrop"},[i("div",{staticClass:"select-item",class:{"select-item-active":!e.spaceActive.id},on:{click:function(t){return t.stopPropagation(),e.selectItem("spaceActive",{name:"全部",id:""},"showSpace")}}},[i("span",[e._v("全部")]),i("i",{directives:[{name:"show",rawName:"v-show",value:!e.spaceActive.id,expression:"!spaceActive.id"}],staticClass:"iconfont icon-selected"})]),e._l(e.spaceList,function(t){return i("div",{staticClass:"select-item",class:{"select-item-active":e.spaceActive.id===t.id},on:{click:function(s){return s.stopPropagation(),e.selectItem("spaceActive",t,"showSpace")}}},[i("span",[e._v(e._s(t.name))]),i("i",{directives:[{name:"show",rawName:"v-show",value:e.spaceActive.id===t.id,expression:"spaceActive.id === item.id"}],staticClass:"iconfont icon-selected"})])})],2)])]),e.brandList.length?i("infinite-scroll",{ref:"brandList",staticClass:"brand-list",attrs:{loadMore:e.loadMore}},[i("div",{staticClass:"brand-list-title"},[e._v("所有品牌")]),i("div",{staticClass:"brand-list-content"},e._l(e.brandList,function(t){return i("div",{staticClass:"brand-logo-item",style:{"background-image":"url("+t.logo+"?imageslim&imageView2/0/w/200)"},on:{click:function(s){return e.selectBrand(t)}}})}),0)]):i("div",{staticClass:"brand-list-info"},[i("img",{attrs:{src:s("d363")}}),i("div",{staticClass:"brand-list-info-text"},[e._v("未找到相关商品")])])],1)])},n=[],c=s("4964"),r=(s("4453"),s("089b")),o=(s("7364"),s("e20c")),d=s("cb1d"),l=s("591a"),h=s("880a"),u=s("fd88"),v=s("e814"),p={name:"brand",data:function(){return{showDetail:!1,brandId:"",form:Object(d["a"])({style:""},"style",""),styleActive:{id:-1,name:""},spaceActive:{id:-1,name:""},brandList:[],showStyle:!1,showSpace:!1,keyword:"",page:1,spaceList:[],pageSize:15,isLoading:!1,isLoaded:!1,styleKeyword:"",catId:""}},watch:{keyword:function(e){var t=this;clearTimeout(i),i=setTimeout(function(){t.page=1,t.getBrandList()},300)}},components:{infiniteScroll:u["a"],brandDetail:v["default"]},computed:Object(o["a"])({},Object(l["c"])({styleList:function(e){return e.sketch.styleList}}),{goodListShow:function(){var e=this.$route.query,t=e.style_words,s=void 0===t?"":t,i=e.space_words,a=void 0===i?"":i,n=e.first_id,c=void 0===n?"":n;return!!(this.keyword||s||a||c)}}),directives:{clickoutside:{bind:function(e,t,s){function i(s){if(e.contains(s.target))return!1;t.expression&&t.value(s)}e._vueClickOutside_=i,document.addEventListener("click",i)},unbind:function(e,t){document.removeEventListener("click",e._vueClickOutside_),delete e._vueClickOutside_}}},methods:Object(o["a"])({},Object(l["b"])(["changeBrandScreening"]),{closeBrandDetail:function(){this.showDetail=!1},handleStyleClose:function(){this.showStyle=!1},handleSpaceClose:function(){this.showSpace=!1},showSelect:function(e,t,s,i){i.target!==this.$refs[s]&&(this[e]=!1,this[t]=!1),this[e]=!0,this[t]=!1},selectBrand:function(e){this.brandId=e.id,this.changeBrandScreening({show:!1,search_words:"",brandId:"",first_id:"",second_id:"",three_id:"",category_id:""}),this.showDetail=!0},selectItem:function(e,t,s){var i=t.name,a=void 0===i?"":i,n=t.id,c=void 0===n?"":n;this[e].id=c,this[e].name=a,this[s]=!1,"styleActive"===e?this.styleKeyword="全部"===this[e].name?"":this[e].name:this.catId=this[e].id,this.page=1,this.getBrandList()},loadMore:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,s,i,a,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!this.isLoading&&!this.isLoaded){e.next=3;break}return e.abrupt("return");case 3:return this.isLoading=!0,e.next=6,this.$axios.get(h["getBrandList"],{params:{page:this.page,page_size:this.pageSize,keyword:this.keyword,style:this.styleKeyword,cat_id:this.catId}});case 6:s=e.sent,i=s.data,(t=this.brandList).push.apply(t,Object(c["a"])(i.list)),this.page+=1,i.list.length||(this.isLoaded=!0),this.$nextTick(function(){n.isLoading=!1}),e.next=19;break;case 14:e.prev=14,e.t0=e["catch"](0),a=e.t0.msg,this.isLoading=!1,this.$toast.error(a);case 19:case"end":return e.stop()}},e,this,[[0,14]])}));function t(){return e.apply(this,arguments)}return t}(),getBrandList:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$axios.get(h["getBrandList"],{params:{page:this.page,page_size:this.pageSize,keyword:this.keyword,style:this.styleKeyword,cat_id:this.catId}});case 3:t=e.sent,s=t.data,this.isLoading=!1,this.isLoaded=!1,this.page+=1,this.brandList=s.list,e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](0),console.log(e.t0),this.$toast.error(msg);case 15:case"end":return e.stop()}},e,this,[[0,11]])}));function t(){return e.apply(this,arguments)}return t}(),getCategoryList:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$axios.get(h["getCategoryList"],{params:{parent_id:0}});case 3:t=e.sent,s=t.data,this.spaceList=s.ls,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),this.$toast.error(msg);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));function t(){return e.apply(this,arguments)}return t}(),clearKeyword:function(){this.keyword=""}}),created:function(){this.changeBrandScreening({show:!1,search_words:"",brandId:"",first_id:"",second_id:"",three_id:"",category_id:""}),this.getCategoryList(),this.getBrandList()}},w=p,m=(s("be85"),s("17cc")),g=Object(m["a"])(w,a,n,!1,null,"0a91a8ca",null);t["default"]=g.exports},"92e5":function(e,t,s){},be85:function(e,t,s){"use strict";var i=s("92e5"),a=s.n(i);a.a},d363:function(e,t,s){e.exports=s.p+"static/img/search_img_notf_dis.097ce81b.png"}}]);