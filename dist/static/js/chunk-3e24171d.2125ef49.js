(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3e24171d"],{"5a29":function(t,e,n){},"9ed6":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login"},[n("div",{staticClass:"login-test",on:{click:function(e){t.current++}}}),n("div",{staticClass:"login-mask"},[n("div",{staticClass:"login-box"},[n("div",{staticClass:"login-scroller",style:{transform:"translateX("+-600*t.current+"px)"}},[n("div",{staticClass:"login-inner"},[n("div",{staticClass:"login-wrapper"},[n("div",{staticClass:"login-index"},[n("div",{staticClass:"login-header"},[n("img",{staticClass:"app-logo",attrs:{src:t.login_page_logo}}),n("p",{staticClass:"login-title"},[t._v("软装优品直供商城_电视商城")])]),n("div",{staticClass:"form"},[n("div",{staticClass:"cell"},[n("i",{staticClass:"cell-icon icon-man"}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.loginForm.login_account,expression:"loginForm.login_account"}],staticClass:"cell-input",attrs:{placeholder:"请输入帐号",autocomplete:"off"},domProps:{value:t.loginForm.login_account},on:{input:function(e){e.target.composing||t.$set(t.loginForm,"login_account",e.target.value)}}})]),n("div",{staticClass:"cell"},[n("i",{staticClass:"cell-icon icon-pswd"}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.loginForm.login_password,expression:"loginForm.login_password"}],staticClass:"cell-input",attrs:{placeholder:"请输入密码",type:"password",autocomplete:"new-password"},domProps:{value:t.loginForm.login_password},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)},input:function(e){e.target.composing||t.$set(t.loginForm,"login_password",e.target.value)}}})]),n("c-button",{staticClass:"form-btn",attrs:{type:"primary",loading:t.loading},on:{click:t.login}},[t._v("登录")])],1)])])]),n("div",{staticClass:"login-inner"},[n("div",{staticClass:"login-wrapper"},[n("div",{staticClass:"tv"},[n("div",{staticClass:"tv-header"},[n("i",{staticClass:"icon-back",on:{click:function(e){t.current=0}}}),n("span",[t._v("首次登录，请命名店铺名称")])]),n("div",{staticClass:"tv-form"},[n("div",{staticClass:"tv-name"},[n("div",{staticClass:"tv-name-title"},[t._v("智能设备名称")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.tvForm.tv_name,expression:"tvForm.tv_name"}],staticClass:"tv-name-input",attrs:{placeholder:"请给你的智能设备命名"},domProps:{value:t.tvForm.tv_name},on:{input:function(e){e.target.composing||t.$set(t.tvForm,"tv_name",e.target.value)}}})]),n("div",{staticClass:"tv-mark"},[n("div",{staticClass:"tv-mark-title"},[t._v("备注")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tvForm.tv_note,expression:"tvForm.tv_note"}],staticClass:"tv-mark-input",attrs:{placeholder:"填写备注信息"},domProps:{value:t.tvForm.tv_note},on:{input:function(e){e.target.composing||t.$set(t.tvForm,"tv_note",e.target.value)}}})])]),n("c-button",{staticClass:"form-btn",attrs:{type:"primary",loading:t.tvLoading},on:{click:t.setTvName}},[t._v("下一步")]),n("p",{staticClass:"tv-tip"},[t._v("点击[下一步]后，该智能设备将绑定到您的店铺“店铺名称”")])],1)])]),n("div",{staticClass:"login-inner"},[n("div",{staticClass:"login-wrapper"},[n("div",{staticClass:"success"},[n("i",{staticClass:"success-icon icon-smiled"}),n("div",{staticClass:"success-title"},[t._v("命名成功")]),t._m(0),n("c-button",{staticClass:"success-start",attrs:{type:"primary"},on:{click:function(e){return t.$router.replace({name:"index"})}}},[t._v("进入商城")])],1)])])])])])])},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"success-content"},[n("p",[t._v("智能设备［智能设备名称］")]),n("p",[t._v("已成功绑定到您的店铺“店铺名称”")])])}],i=(n("34a3"),n("f763"),n("fb37"),n("4453"),n("089b")),o=n("e20c"),r=n("880a"),c=n("591a"),l={login_account:"您还没有输入店铺账号",login_password:"您还没有输入店铺密码"},v={name:"login",data:function(){return{loginForm:{login_account:"",login_password:""},tvForm:{tv_name:"",tv_note:""},current:0,loading:!1,tvLoading:!1}},computed:Object(o["a"])({},Object(c["c"])({login_page_logo:function(t){return t.user.logo.login_page_logo}})),methods:{login:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,n,s,a,i=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e=Object.keys(this.loginForm).every(function(t){return i.loginForm[t]||i.$toast.message(l[t]),i.loginForm[t]}),e){t.next=4;break}return t.abrupt("return");case 4:return this.loading=!0,t.next=7,this.$axios.post(r["login"],this.loginForm);case 7:n=t.sent,s=n.tv_bind,n.data,this.loading=!1,s?this.$router.replace({name:"index"}):this.current=1,t.next=19;break;case 14:t.prev=14,t.t0=t["catch"](0),a=t.t0.msg,this.loading=!1,this.$toast.error(a);case 19:case"end":return t.stop()}},t,this,[[0,14]])}));function e(){return t.apply(this,arguments)}return e}(),setTvName:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.tvLoading=!0,t.next=4,this.$axios.post(r["bindtv"],this.tvForm);case 4:e=t.sent,e.tv_bind,this.current=2,this.tvLoading=!1,t.next=15;break;case 10:t.prev=10,t.t0=t["catch"](0),n=t.t0.msg,this.tvLoading=!1,this.$toast.error(n);case 15:case"end":return t.stop()}},t,this,[[0,10]])}));function e(){return t.apply(this,arguments)}return e}()}},u=v,p=(n("c8f1"),n("17cc")),d=Object(p["a"])(u,s,a,!1,null,"d9773c0a",null);e["default"]=d.exports},c8f1:function(t,e,n){"use strict";var s=n("5a29"),a=n.n(s);a.a},f9f2:function(t,e,n){var s=n("b2f5"),a=n("a4cc"),i=n("b6f1");t.exports=function(t,e){var n=(a.Object||{})[t]||Object[t],o={};o[t]=e(n),s(s.S+s.F*i(function(){n(1)}),"Object",o)}},fb37:function(t,e,n){var s=n("db4b"),a=n("cfc7");n("f9f2")("keys",function(){return function(t){return a(s(t))}})}}]);