(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-661d8356"],{1377:function(t,e,s){"use strict";var r=s("6f28"),a=s.n(r);a.a},"1c51":function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"index"},[r("header",{staticClass:"header"},[t._m(0),r("router-link",{staticClass:"header-btn",attrs:{to:{name:"edit"}}},[t._v("创建方案")])],1),r("div",{staticClass:"container"},[r("div",{staticClass:"sidebar"},[r("p",{staticClass:"sidebar-title"},[t._v("筛选条件：")]),r("div",{staticClass:"filter"},[r("p",{staticClass:"filter-name"},[t._v("风格")]),r("div",{staticClass:"filter-tags"},[r("div",{staticClass:"filter-tag",class:{active:!t.$route.query.style},on:{click:function(e){return t.selectStyle("")}}},[r("touch-ripple",{attrs:{speed:3,opacity:.4,color:"#000"}},[r("span",[t._v("全部")])])],1),t._l(t.styleList,function(e){return r("div",{staticClass:"filter-tag",class:{active:t.$route.query.style===e.name},on:{click:function(s){return t.selectStyle(e.name)}}},[r("touch-ripple",{attrs:{speed:3,opacity:.4,color:"#000"}},[r("span",[t._v(t._s(e.name))])])],1)})],2)]),r("div",{staticClass:"filter"},[r("p",{staticClass:"filter-name"},[t._v("空间")]),r("div",{staticClass:"filter-tags"},[r("div",{staticClass:"filter-tag",class:{active:!t.$route.query.space},on:{click:function(e){return t.selectSpace("")}}},[r("touch-ripple",{attrs:{speed:3,opacity:.4,color:"#000"}},[r("span",[t._v("全部")])])],1),t._l(t.spaceList,function(e){return r("div",{staticClass:"filter-tag",class:{active:t.$route.query.space===e.name},on:{click:function(s){return t.selectSpace(e.name)}}},[r("touch-ripple",{attrs:{speed:3,opacity:.4,color:"#000"}},[r("span",[t._v(t._s(e.name))])])],1)})],2)])]),r("infiniteScroll",{ref:"scroll",attrs:{loadMore:t.loadMore}},[r("div",{staticClass:"cases-container"},[r("p",{staticClass:"cases-title"},[t._v("案例中心：")]),t.cases.length?r("div",{staticClass:"cases-list"},t._l(t.cases,function(e){return r("router-link",{staticClass:"case",attrs:{to:{name:"sketchDetail",params:{id:e.id}}}},[r("div",{staticClass:"case-cover",style:{"background-image":"url("+e.preview+")"}}),r("div",{staticClass:"case-name"},[t._v(t._s(e.title))]),r("div",{staticClass:"case-type"},[t._v(t._s(e.tags.split(" ").join("/")))])])}),1):r("div",{staticClass:"cases-list"},[r("div",{staticClass:"cases-list-info"},[r("img",{attrs:{src:s("d363")}}),r("div",{staticClass:"cases-list-info-text"},[t._v("未找到相关案例")])])])])])],1)])},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header-name"},[s("i",{staticClass:"icon-dpds"}),s("span",[t._v("搭配大师")])])}],i=(s("7364"),s("34a3"),s("4964")),n=s("e20c"),c=(s("4453"),s("089b")),o=s("880a"),l=s("fd88"),u={name:"sketch",components:{infiniteScroll:l["a"]},data:function(){return{isLoading:!1,cases:[],currentPage:1,styleList:[],spaceList:[]}},methods:{loadMore:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e,s,r,a,c=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!this.isLoading&&!this.isLoaded){t.next=3;break}return t.abrupt("return");case 3:return this.isLoading=!0,t.next=6,this.$axios.get(o["sceneCaseList"],{params:Object(n["a"])({page_code:this.currentPage},this.$route.query)});case 6:s=t.sent,r=s.data,(e=this.cases).push.apply(e,Object(i["a"])(r.ls)),this.currentPage=r.page_code,r.ls.length||(this.isLoaded=!0),this.$nextTick(function(){c.isLoading=!1}),t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](0),a=t.t0.msg,this.$toast.error(a);case 18:case"end":return t.stop()}},t,this,[[0,14]])}));function e(){return t.apply(this,arguments)}return e}(),selectStyle:function(t){this.$route.query.style!==t&&t?this.$router.replace({name:this.$route.name,query:Object(n["a"])({},this.$route.query,{style:t})}):this.$router.replace({name:this.$route.name,query:{space:this.$route.query.space}})},selectSpace:function(t){this.$route.query.space!==t&&t?this.$router.replace({name:this.$route.name,query:Object(n["a"])({},this.$route.query,{space:t})}):this.$router.replace({name:this.$route.name,query:{style:this.$route.query.style}})},getCaseList:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e,s,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$axios.get(o["sceneCaseList"],{params:this.$route.query});case 3:e=t.sent,s=e.data,this.currentPage=s.page_code,this.cases=s.ls,t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](0),r=t.t0.msg,this.$toast.error(r);case 13:case"end":return t.stop()}},t,this,[[0,9]])}));function e(){return t.apply(this,arguments)}return e}(),getStyleList:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e,s,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$axios.get(o["getStyleList"]);case 3:e=t.sent,s=e.data,this.styleList=s.ls,t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),r=t.t0.msg,this.$toast.error(r);case 12:case"end":return t.stop()}},t,this,[[0,8]])}));function e(){return t.apply(this,arguments)}return e}(),getSpaceList:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e,s,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$axios.get(o["getSpaceList"]);case 3:e=t.sent,s=e.data,this.spaceList=s.ls,t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),r=t.t0.msg,this.$toast.error(r);case 12:case"end":return t.stop()}},t,this,[[0,8]])}));function e(){return t.apply(this,arguments)}return e}()},beforeRouteEnter:function(t,e,s){s(function(t){t.$route.meta.scrollTop?t.$refs.scroll.$el.scrollTop=t.$route.meta.scrollTop:(t.getCaseList(),t.getStyleList(),t.getSpaceList())})},beforeRouteUpdate:function(t,e,s){s(),this.$refs.scroll.$el.scrollTop=0,this.getCaseList()},beforeRouteLeave:function(t,e,s){this.$route.meta.scrollTop=this.$refs.scroll.$el.scrollTop,s()}},p=u,f=(s("1377"),s("17cc")),h=Object(f["a"])(p,r,a,!1,null,"5b23fcd4",null);e["default"]=h.exports},"37ea":function(t,e,s){},4964:function(t,e,s){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,s=new Array(t.length);e<t.length;e++)s[e]=t[e];return s}}function a(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function n(t){return r(t)||a(t)||i()}s.d(e,"a",function(){return n})},"6f28":function(t,e,s){},c2f0:function(t,e,s){"use strict";var r=s("37ea"),a=s.n(r);a.a},d363:function(t,e,s){t.exports=s.p+"static/img/search_img_notf_dis.097ce81b.png"},fd88:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"scroller",attrs:{id:"scroller"}},[t._t("default")],2)},a=[],i=(s("d4d5"),{name:"infiniteScroll",props:{distance:{type:Number,default:100},loadMore:{type:Function,required:!0}},methods:{initScroller:function(){var t=this,e=this.$refs.scroller;e.addEventListener("scroll",function(s){var r=e.scrollHeight,a=e.scrollTop,i=e.offsetHeight;r-a-i<100&&t.loadMore()})}},mounted:function(){this.initScroller()}}),n=i,c=(s("c2f0"),s("17cc")),o=Object(c["a"])(n,r,a,!1,null,"0355fe16",null);e["a"]=o.exports}}]);