(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-70647dd7"],{1237:function(t,e,s){},"52e2":function(t,e,s){"use strict";var r=s("8992"),i=s.n(r);i.a},"73f2":function(t,e,s){"use strict";var r=s("75cf"),i=s.n(r);i.a},"75cf":function(t,e,s){},8648:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cart-header"},[s("div",{staticClass:"cart-header-left"},[s("div",{staticClass:"cart-header-title"},[t._v(t._s(t.title))]),t.count?s("div",{staticClass:"cart-header-count"},[t._v("共"+t._s(t.count)+"件商品")]):t._e()]),t.isShowBtn?s("div",{staticClass:"cart-header-right"},[s("c-button",{attrs:{type:t.buttonType},on:{click:t.click}},[t._v(t._s(t.btnValue))])],1):t._e(),t.isDeleteOrder?s("div",{staticClass:"cart-header-right"},[s("c-button",{attrs:{type:t.buttonType},on:{click:t.click}},[t._v("删除订单")])],1):t._e()])},i=[],a=(s("d4d5"),{name:"shoppingCardHeader",props:{title:String,btnValue:{type:String,default:""},count:{type:[String,Number],default:""},isDeleteOrder:{type:Boolean,default:!1},buttonType:{validator:function(t){return-1!==["primary","info","danger"].indexOf(t)||!t}},isShowBtn:{type:Boolean,default:!1}},data:function(){return{}},methods:{click:function(){this.$emit("click")}}}),c=a,n=(s("52e2"),s("17cc")),d=Object(n["a"])(c,r,i,!1,null,"55f59eaa",null);e["a"]=d.exports},"894d":function(t,e,s){"use strict";var r=s("1237"),i=s.n(r);i.a},8992:function(t,e,s){},"8f22":function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"address"},[s("shopping-cart-header",{attrs:{title:t.title,isShowBtn:"",btnValue:t.btnValue,buttonType:"primary"},on:{click:t.save}}),s("div",{staticClass:"address-form"},[s("div",{staticClass:"address-form-item"},[s("div",{staticClass:"form-item-label"},[t._v("收货人：")]),s("div",{staticClass:"form-item-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.consignee,expression:"form.consignee"}],attrs:{placeholder:"请输入收货人"},domProps:{value:t.form.consignee},on:{input:function(e){e.target.composing||t.$set(t.form,"consignee",e.target.value)}}})])]),s("div",{staticClass:"address-form-item"},[s("div",{staticClass:"form-item-label"},[t._v("手机号码：")]),s("div",{staticClass:"form-item-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.mobile,expression:"form.mobile"}],attrs:{placeholder:"请输入手机号码"},domProps:{value:t.form.mobile},on:{input:function(e){e.target.composing||t.$set(t.form,"mobile",e.target.value)}}})])]),s("div",{staticClass:"address-form-item address-form-select",on:{click:t.showAddressModal}},[s("div",{staticClass:"form-item-bd"},[s("div",{staticClass:"form-item-label"},[t._v("所在地区：")]),s("div",{staticClass:"form-item-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.area,expression:"form.area"}],attrs:{placeholder:"请选择地区",readonly:"readonly"},domProps:{value:t.form.area},on:{input:function(e){e.target.composing||t.$set(t.form,"area",e.target.value)}}})])]),s("div",{staticClass:"form-item-ft icon-more"})]),s("div",{staticClass:"address-form-item address-form-textarea"},[s("div",{staticClass:"form-item-label"},[t._v("详细地址：")]),s("div",{staticClass:"form-item-input"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.address,expression:"form.address"}],attrs:{placeholder:"如道路、门牌号、小区、楼栋号、单元室等"},domProps:{value:t.form.address},on:{input:function(e){e.target.composing||t.$set(t.form,"address",e.target.value)}}})])])]),s("select-address",{on:{changeAddress:t.changeAddress}})],1)},i=[],a=(s("34a3"),s("e20c")),c=s("8648"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("modal",{attrs:{name:"selectAddress",width:"760",height:"640"},on:{"before-open":t.beforeOpen}},[s("div",{staticClass:"address-container"},[s("div",{staticClass:"address-header"},[s("div",{staticClass:"address-header-title"},[t._v("所在地区")]),s("div",{staticClass:"icon-close",on:{click:t.closePopover}})]),s("div",{staticClass:"address-tags"},[s("div",{staticClass:"address-tag-item",class:{"tag-active":!t.address.province},on:{click:t.getProvince}},[t._v(t._s(t.address.province?t.address.province:"请选择")),t.address.province?t._e():s("div",{staticClass:"tag-active-line"})]),t.address.province?s("div",{staticClass:"address-tag-item",class:{"tag-active":!t.address.city},on:{click:t.getCity}},[t._v(t._s(t.address.city?t.address.city:"请选择")),t.address.city?t._e():s("div",{staticClass:"tag-active-line"})]):t._e(),t.address.province&&t.address.city?s("div",{staticClass:"address-tag-item",class:{"tag-active":!t.address.district},on:{click:t.getDistrict}},[t._v(t._s(t.address.district?t.address.district:"请选择")),t.address.district?t._e():s("div",{staticClass:"tag-active-line"})]):t._e()]),s("div",{staticClass:"address-content"},t._l(t.arrAddress,function(e){return s("div",{staticClass:"address-select-item",on:{click:function(s){return t.select(e)}}},[s("div",{staticClass:"select-item-label",class:{"select-active":e.id===t.selectId}},[t._v(t._s(e.name))]),e.id===t.selectId?s("div",{staticClass:"icon-selected"}):t._e()])}),0)])])},d=[],o=(s("7364"),s("f763"),s("4453"),s("089b")),l=s("880a"),u={name:"selectAddress",data:function(){return{address:{province:"",province_id:"",city:"",city_id:"",district:"",district_id:""},selectId:"",isSelect:!1,arrAddress:[]}},methods:{beforeOpen:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var s,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:s=e.params;try{this.address=Object(a["a"])({},this.address,s),s.district_id?this.getDistrict():this.getProvince()}catch(i){r=i.msg,this.$toast.error(r)}case 2:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),getProvince:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,s,r,i=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$axios.get(l["getProvince"]);case 3:e=t.sent,s=e.data,s.forEach(function(t){t.key="province",t.api="getCity",i.address.province_id&&i.address.province_id===t.id&&(i.selectId=t.id)}),this.address.city="",this.address.city_id="",this.address.district="",this.address.district_id="",this.arrAddress=s,t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](0),r=t.t0.msg,this.$toast.error(r);case 17:case"end":return t.stop()}},t,this,[[0,13]])}));function e(){return t.apply(this,arguments)}return e}(),getCity:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,s,r,i=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$axios.get(l["getCity"],{params:{pid:this.address.province_id}});case 3:e=t.sent,s=e.data,s.forEach(function(t){t.key="city",t.api="getDistrict",i.address.city_id&&i.address.city_id===t.id&&(i.selectId=t.id)}),this.address.district="",this.address.district_id="",this.arrAddress=s,t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](0),r=t.t0.msg,this.$toast.error(r);case 15:case"end":return t.stop()}},t,this,[[0,11]])}));function e(){return t.apply(this,arguments)}return e}(),getDistrict:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,s,r,i=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$axios.get(l["getDistrict"],{params:{pid:this.address.city_id}});case 3:e=t.sent,s=e.data,s.forEach(function(t){t.key="district",i.address.district_id&&i.address.district_id===t.id&&(i.selectId=t.id)}),this.arrAddress=s,t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](0),r=t.t0.msg,this.$toast.error(r);case 13:case"end":return t.stop()}},t,this,[[0,9]])}));function e(){return t.apply(this,arguments)}return e}(),closePopover:function(){this.$modal.hide("selectAddress")},select:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var s,r,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,this.selectId=e.id,this.address[e.key]=e.name,this.address["".concat(e.key,"_id")]=e.id,!e.api){t.next=12;break}return t.next=7,this.$axios.get(l[e.api],{params:{pid:e.id}});case 7:s=t.sent,r=s.data,r.length?(this.arrAddress=r,"province"===e.key&&r.forEach(function(t){t.key="city",t.api="getDistrict"}),"city"===e.key&&r.forEach(function(t){t.key="district"})):(this.$emit("changeAddress",this.address),this.closePopover()),t.next=14;break;case 12:this.$emit("changeAddress",this.address),this.closePopover();case 14:t.next=20;break;case 16:t.prev=16,t.t0=t["catch"](0),i=t.t0.msg,this.$toast.error(i);case 20:case"end":return t.stop()}},t,this,[[0,16]])}));function e(e){return t.apply(this,arguments)}return e}()}},m=u,v=(s("73f2"),s("17cc")),f=Object(v["a"])(m,n,d,!1,null,"58e83083",null),h=f.exports,p={name:"newAddress",data:function(){return{title:"新建地址",btnValue:"保存",form:{consignee:"",mobile:"",area:"",province_id:"",city_id:"",district_id:"",address:""}}},components:{shoppingCartHeader:c["a"],selectAddress:h},methods:{changeAddress:function(t){this.form=Object(a["a"])({},this.form,t),this.form.area="".concat(t.province," ").concat(t.city," ").concat(t.district)},save:function(){this.form.consignee?this.form.mobile?/^1[0-9]\d{9}$/.test(this.form.mobile)?this.form.area?this.form.address?this.$router.replace({name:"confirmOrder",query:Object(a["a"])({},this.form,this.$route.query)}):this.$toast.error("请填写详细地址！"):this.$toast.error("请填写所在地区！"):this.$toast.error("请输入正确的电话号码！"):this.$toast.error("请填写收货人电话号码！"):this.$toast.error("请填写收货人！")},showAddressModal:function(){this.$modal.show("selectAddress",Object(a["a"])({},this.form))}},beforeRouteEnter:function(t,e,s){s(function(e){e.form=Object(a["a"])({},e.form,t.query)})}},g=p,_=(s("894d"),Object(v["a"])(g,r,i,!1,null,"be58042c",null));e["default"]=_.exports}}]);