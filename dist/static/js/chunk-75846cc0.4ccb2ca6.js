(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-75846cc0"],{"2f49":function(t,e,r){"use strict";var a=r("7b1d"),s=r.n(a);s.a},"37ea":function(t,e,r){},4964:function(t,e,r){"use strict";function a(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}function s(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function i(t){return a(t)||s(t)||n()}r.d(e,"a",function(){return i})},"59ad":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"brands"},[r("header",{staticClass:"header"},[r("div",{staticClass:"header-menu"},[r("router-link",{staticClass:"header-menu-item",attrs:{to:{name:"index"}}},[t._v("首页")]),r("router-link",{staticClass:"header-menu-item",attrs:{to:{name:"category"}}},[t._v("分类")]),r("router-link",{staticClass:"header-menu-item",attrs:{to:{name:"hotGoods",query:{brand_id:"",good_type:"hot"}}}},[t._v("热销商品")]),r("router-link",{staticClass:"header-menu-item active",attrs:{to:{name:"brands"}}},[t._v("精选品牌")]),r("router-link",{staticClass:"header-menu-item",attrs:{to:{name:"sketch"}}},[t._v("搭配大师")])],1),r("div",{staticClass:"header-slot"},[r("img",{staticClass:"app-logo",attrs:{src:t.brand_page_logo}}),r("span",{staticClass:"app-name"},[t._v("软装优品直供商城")])])]),r("div",{staticClass:"brands-content"},[r("infinite-scroll",{ref:"scroll",staticClass:"brands-list",attrs:{loadMore:t.loadMore}},t._l(t.brands,function(e){return e.goods&&e.goods.length?r("div",{staticClass:"brands-item"},[r("div",{staticClass:"brands-item-banner"},[r("div",{staticClass:"brands-logo"},[e.brand.logo?r("div",{staticClass:"brands-item-logo",style:{"background-image":"url("+e.brand.logo+"?imageslim&imageView2/0/w/268)"}}):r("div",{staticClass:"brands-item-logo brands-item-name"},[t._v(t._s(e.brand.name))])]),r("router-link",{staticClass:"brands-item-link",attrs:{to:{name:"brandGoods",params:{id:e.brand.id}}}},[r("span",[t._v("进入品牌馆")])])],1),r("div",{staticClass:"brands-item-goods"},t._l(e.goods,function(e){return r("router-link",{key:e.goods_id,staticClass:"good-item",attrs:{to:{name:"goodDetail",params:{id:e.goods_id}}}},[r("div",{staticClass:"good-img",style:{"background-image":"url("+e.original_img+"?imageslim&imageView2/0/w/464)"}}),r("div",{staticClass:"good-money-vip"},[r("em",[t._v("¥"+t._s(e.shop_price))]),r("span",[t._v("会员")])]),r("div",{staticClass:"good-money"},[r("span",[t._v("零售价")]),r("em",[t._v("¥"+t._s(e.market_price))])]),r("p",{staticClass:"good-name"},[t._v(t._s(e.goods_name))])])}),1)]):t._e()}),0)],1)])},s=[],n=r("4964"),i=(r("4453"),r("089b")),o=r("e20c"),c=r("880a"),l=r("fd88"),d=r("591a"),u={name:"brands",data:function(){return{brands:[],currentPage:1,isLoading:!1,isLoaded:!1}},computed:Object(o["a"])({},Object(d["c"])({brand_page_logo:function(t){return t.user.logo.brand_page_logo}})),methods:{getHotBrand:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,r,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.currentPage=1,this.isLoading=!1,this.isLoaded=!1,t.next=6,this.$axios.get(c["hotBrand"]);case 6:e=t.sent,r=e.data,this.brands=r.list,this.currentPage+=1,t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](0),a=t.t0.msg,this.$toast.error(a);case 16:case"end":return t.stop()}},t,this,[[0,12]])}));function e(){return t.apply(this,arguments)}return e}(),loadMore:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,r,a,s=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!this.isLoading&&!this.isLoaded){t.next=3;break}return t.abrupt("return");case 3:return this.isLoading=!0,t.next=6,this.$axios.get(c["hotBrand"],{params:{page:this.currentPage}});case 6:e=t.sent,r=e.data,r.list.length&&window.requestAnimationFrame(function(){var t;(t=s.brands).push.apply(t,Object(n["a"])(r.list))}),this.currentPage+=1,r.list.length||(this.isLoaded=!0),this.$nextTick(function(){s.isLoading=!1}),t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](0),a=t.t0.msg,this.$toast.error(a);case 18:case"end":return t.stop()}},t,this,[[0,14]])}));function e(){return t.apply(this,arguments)}return e}()},beforeRouteEnter:function(t,e,r){r(function(t){t.$route.meta.scrollTop?t.$refs.scroll.$el.scrollTop=t.$route.meta.scrollTop:t.getHotBrand()})},beforeRouteUpdate:function(t,e,r){r(),this.$refs.scroll.$el.scrollTop=0,this.getHotBrand()},beforeRouteLeave:function(t,e,r){this.$route.meta.scrollTop=this.$refs.scroll.$el.scrollTop,r()},components:{infiniteScroll:l["a"]}},m=u,g=(r("2f49"),r("17cc")),f=Object(g["a"])(m,a,s,!1,null,"fbf40b1a",null);e["default"]=f.exports},"7b1d":function(t,e,r){},c2f0:function(t,e,r){"use strict";var a=r("37ea"),s=r.n(a);s.a},fd88:function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"scroller",attrs:{id:"scroller"}},[t._t("default")],2)},s=[],n=(r("d4d5"),{name:"infiniteScroll",props:{distance:{type:Number,default:100},loadMore:{type:Function,required:!0}},methods:{initScroller:function(){var t=this,e=this.$refs.scroller;e.addEventListener("scroll",function(r){var a=e.scrollHeight,s=e.scrollTop,n=e.offsetHeight;a-s-n<100&&t.loadMore()})}},mounted:function(){this.initScroller()}}),i=n,o=(r("c2f0"),r("17cc")),c=Object(o["a"])(i,a,s,!1,null,"0355fe16",null);e["a"]=c.exports}}]);