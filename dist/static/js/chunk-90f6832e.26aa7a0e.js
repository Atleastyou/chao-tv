(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-90f6832e","chunk-5e04f6b8"],{"05ba":function(t,e){var i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(i){var s=new Uint8Array(16);t.exports=function(){return i(s),s}}else{var a=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0===(3&e)&&(t=4294967296*Math.random()),a[e]=t>>>((3&e)<<3)&255;return a}}},"0ce2":function(t,e,i){"use strict";var s=i("5ffa"),a=i.n(s);a.a},"1da1":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"assist"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.title,expression:"title"}],staticClass:"assist-back",on:{click:t.back}},[i("i",{staticClass:"icon-back-1"}),i("span",[t._v(t._s(t.title))])]),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.showBack,expression:"!showBack"}],staticClass:"assist-options"},[i("div",{staticClass:"assist-options-item",on:{click:t.addText}},[i("touch-ripple",{attrs:{speed:3,opacity:.6}},[i("div",{staticClass:"item-icon icon-text"}),i("div",{staticClass:"item-name"},[t._v("添加文本")])])],1),t._l(t.options,function(e){return i("div",{staticClass:"assist-options-item",on:{click:function(i){return t.selectOption(e)}}},[i("touch-ripple",{attrs:{speed:3,opacity:.6}},[i("div",{staticClass:"item-icon",class:e.icon}),i("div",{staticClass:"item-name"},[t._v(t._s(e.name))])])],1)})],2),i("div",{staticClass:"assist-contaienr"},[i("transition",{attrs:{name:"material"}},[t.showBack?i("infinite-scroll",{staticClass:"assist-list",attrs:{loadMore:t.loadMore}},t._l(t.assists,function(e){return i("div",{staticClass:"assist-item",class:{"light-item":e.border_color},style:{"background-color":e.background,"border-color":e.border_color},on:{click:function(i){return t.addMaterial(e.img,e)}}},[i("div",{staticClass:"assist-item-img",style:{"background-image":"url("+e.img+"?imageslim&imageView2/0/w/268)"}})])}),0):t._e()],1)],1)])},a=[],n=i("4964"),r=(i("7364"),i("4453"),i("089b")),o=i("e20c"),c=i("880a"),l=i("5428"),u=i.n(l),d=i("591a"),f=i("fd88"),p={name:"assist",data:function(){return{showBack:!1,lightShow:!1,title:"",selectId:null,assists:[],isLoading:!1,isLoaded:!1,pageCode:0,options:[]}},components:{infiniteScroll:f["a"]},methods:Object(o["a"])({},Object(d["b"])(["updateHistory"]),{init:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,i,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$axios.get(c["getClassify"]);case 3:e=t.sent,i=e.data,this.options=i.lower,t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),s=t.t0.msg,this.$toast.error(s);case 12:case"end":return t.stop()}},t,this,[[0,8]])}));function e(){return t.apply(this,arguments)}return e}(),selectOption:function(t){this.showBack=!0,this.assists=[],this.selectId=t.id,this.title=t.name,this.getMaterial()},getMaterial:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,i,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$axios.get(c["classifyMaterial"],{params:{id:this.selectId,page_size:28}});case 3:e=t.sent,i=e.data,this.pageCode=i.page_code,this.assists=i.ls,t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](0),s=t.t0.msg,this.$toast.error(s);case 13:case"end":return t.stop()}},t,this,[[0,9]])}));function e(){return t.apply(this,arguments)}return e}(),back:function(){this.title="",this.showBack=!1},addText:function(){var t=u()(),e=new fabric.IText("双击修改文字",{left:100,top:100,cornerSize:20,padding:5,fill:"rgba(0, 0, 0, 1)",uid:t});canvas.add(e),canvas.setActiveObject(e)},addMaterial:function(t,e){var i=this,s=u()();fabric.Image.fromURL(t+"?imageslim&imageView2/0/w/1000",function(t){t.set({id:e.id,left:100,top:100,uid:s}),t.scaleToWidth(300),canvas.add(t),canvas.setActiveObject(t),i.updateHistory()},{crossOrigin:"anonymous"})},loadMore:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,i,s,a,r=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!this.isLoading&&!this.isLoaded){t.next=3;break}return t.abrupt("return");case 3:return this.isLoading=!0,t.next=6,this.$axios.get(c["classifyMaterial"],{params:{id:this.selectId,page_code:this.pageCode,page_size:28}});case 6:i=t.sent,s=i.data,this.pageCode=s.page_code,(e=this.assists).push.apply(e,Object(n["a"])(s.ls)),s.ls.length||(this.isLoaded=!0),this.$nextTick(function(){r.isLoading=!1}),t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](0),a=t.t0.msg,this.$toast.error(a);case 18:case"end":return t.stop()}},t,this,[[0,14]])}));function e(){return t.apply(this,arguments)}return e}()}),created:function(){this.init()}},h=p,m=(i("0ce2"),i("17cc")),v=Object(m["a"])(h,s,a,!1,null,"30046279",null);e["default"]=v.exports},"37ea":function(t,e,i){},4964:function(t,e,i){"use strict";function s(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}function a(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function r(t){return s(t)||a(t)||n()}i.d(e,"a",function(){return r})},5428:function(t,e,i){var s=i("05ba"),a=i("97c1");function n(t,e,i){var n=e&&i||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null),t=t||{};var r=t.random||(t.rng||s)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e)for(var o=0;o<16;++o)e[n+o]=r[o];return e||a(r)}t.exports=n},"5ffa":function(t,e,i){},"97c1":function(t,e){for(var i=[],s=0;s<256;++s)i[s]=(s+256).toString(16).substr(1);function a(t,e){var s=e||0,a=i;return[a[t[s++]],a[t[s++]],a[t[s++]],a[t[s++]],"-",a[t[s++]],a[t[s++]],"-",a[t[s++]],a[t[s++]],"-",a[t[s++]],a[t[s++]],"-",a[t[s++]],a[t[s++]],a[t[s++]],a[t[s++]],a[t[s++]],a[t[s++]]].join("")}t.exports=a},c2f0:function(t,e,i){"use strict";var s=i("37ea"),a=i.n(s);a.a},fd88:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"scroller",attrs:{id:"scroller"}},[t._t("default")],2)},a=[],n=(i("d4d5"),{name:"infiniteScroll",props:{distance:{type:Number,default:100},loadMore:{type:Function,required:!0}},methods:{initScroller:function(){var t=this,e=this.$refs.scroller;e.addEventListener("scroll",function(i){var s=e.scrollHeight,a=e.scrollTop,n=e.offsetHeight;s-a-n<100&&t.loadMore()})}},mounted:function(){this.initScroller()}}),r=n,o=(i("c2f0"),i("17cc")),c=Object(o["a"])(r,s,a,!1,null,"0355fe16",null);e["a"]=c.exports}}]);