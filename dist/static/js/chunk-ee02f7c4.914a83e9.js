(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ee02f7c4"],{"163d":function(e,t,r){"use strict";var s=r("f2f7"),a=r.n(s);a.a},"1bde":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"confirm-order"},[s("shopping-cart-header",{attrs:{title:e.title}}),e.goods.list.length?s("div",{staticClass:"order-container"},[s("div",{staticClass:"order-list"},e._l(e.goods.list,function(e){return s("div",{staticClass:"order-item"},[s("shopping-goods",{attrs:{item:e,isPrice:"",isPurchase:""}})],1)}),0),s("div",{staticClass:"order-select"},[s("div",{staticClass:"order-select-header"},[s("div",{staticClass:"order-select-title"},[e._v("订单信息")]),s("div",{staticClass:"order-select-address",on:{click:e.toNewAddress}},[s("div",{staticClass:"order-address-left"},[s("div",{staticClass:"icon-address"}),e.address.consignee?s("div",{staticClass:"order-address-text"},[s("div",{staticClass:"order-address-info"},[s("div",{staticClass:"order-address-consignee"},[e._v(e._s(e.address.consignee))]),s("div",{staticClass:"order-address-mobile"},[e._v(e._s(e.address.mobile))])]),s("div",{staticClass:"order-address-area"},[e._v(e._s(e.address.area)+" "+e._s(e.address.address))])]):s("div",{staticClass:"order-address-text"},[e._v("新建地址")])]),s("div",{staticClass:"icon-more"})])]),s("div",{staticClass:"order-select-content"},[s("div",{staticClass:"order-price"},[s("div",{staticClass:"order-price-item"},[s("div",{staticClass:"price-item-label"},[e._v("合计：")]),s("div",{staticClass:"price-item-value"},[e._v("¥ "+e._s(e.goods.total_money))])]),s("div",{staticClass:"order-price-item"},[s("div",{staticClass:"price-item-label"},[e._v("应付金额：")]),s("div",{staticClass:"price-item-value"},[e._v("¥ "+e._s(e.goods.pay_amount))])])]),s("div",{staticClass:"order-button"},[s("c-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("提交订单")])],1)])])]):s("div",{staticClass:"order-bg"},[s("img",{attrs:{src:r("011a")}}),s("div",{staticClass:"order-bg-text"},[e._v("订单是空的")])]),s("delete-popover")],1)},a=[],i=(r("34a3"),r("e20c")),o=(r("4453"),r("089b")),n=(r("f763"),r("8648")),c=r("9a98"),d=r("04b8"),u=r("880a"),h={name:"confirmOrder",data:function(){return{title:"确认订单",goods:{list:[]},address:{}}},computed:{allChecked:function(){var e=0;return this.goods.forEach(function(t){t.isChecked&&e++}),e===this.goods.length}},components:{shoppingCartHeader:n["a"],shoppingGoods:c["a"],deletePopover:d["a"]},methods:{getJoinShopConfirmOrderDetail:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$axios.get(u["joinShopConfirmOrderDetail"],{params:this.$route.query});case 3:t=e.sent,r=t.data,this.goods=r,e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),s=e.t0.msg,this.$toast.error(s);case 12:case"end":return e.stop()}},e,this,[[0,8]])}));function t(){return e.apply(this,arguments)}return t}(),getBuyNowList:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$axios.get(u["buyNow"],{params:Object(i["a"])({},this.$route.query)});case 3:t=e.sent,r=t.data,this.goods=r,e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),s=e.t0.msg,this.$toast.error(s);case 12:case"end":return e.stop()}},e,this,[[0,8]])}));function t(){return e.apply(this,arguments)}return t}(),getList:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$axios.get(u["confirmOrder"]);case 3:t=e.sent,r=t.data,this.goods=r,e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),s=e.t0.msg,this.$toast.error(s);case 12:case"end":return e.stop()}},e,this,[[0,8]])}));function t(){return e.apply(this,arguments)}return t}(),getSketchBuyList:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$axios.get(u["getsketchBuyList"],{params:{token:this.$route.query.token}});case 3:t=e.sent,r=t.data,this.goods=r,e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),s=e.t0.msg,this.$toast.error(s);case 12:case"end":return e.stop()}},e,this,[[0,8]])}));function t(){return e.apply(this,arguments)}return t}(),submit:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t,r,s,a,o,n,c,d,h;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=1,t="buyNow"===this.$route.query.from?2:"sketch"===this.$route.query.from?4:"joinShop"===this.$route.query.from?7:1,e.prev=2,this.address.consignee&&this.address.mobile&&this.address.area&&this.address.address){e.next=6;break}return this.$toast.error("请先填写收货地址！"),e.abrupt("return");case 6:return r=Object(i["a"])({},this.address),"joinShop"===this.$route.query.from&&(r["order_token"]=this.$route.query.token),"sketch"===this.$route.query.from&&(r.goods=this.goods.list),e.next=11,this.$axios.post(u["payAddOrder"],Object(i["a"])({order_type:t},r));case 11:s=e.sent,a=s.data,this.$router.push({name:"confirmOrderList",query:a}),o=a.amount&&a.offline_amount,n=!a.amount&&a.offline_amount,c=a.amount&&!a.offline_amount,c?this.$router.replace({name:"pay",query:a}):n?this.$router.replace({name:"submitOrderSuccess"}):o&&this.$router.replace({name:"confirmOrderList",query:a}),e.next=27;break;case 20:e.prev=20,e.t0=e["catch"](2),d=e.t0.msg,this.$toast.error(d),h="shoppingCart",2===t?h="goodDetail":4===t&&(h="edit"),this.$router.push({name:h,params:{id:this.$route.query.goods_id}});case 27:case"end":return e.stop()}},e,this,[[2,20]])}));function t(){return e.apply(this,arguments)}return t}(),toNewAddress:function(){this.$router.push({name:"address",query:Object(i["a"])({},this.address,this.$route.query)})}},beforeRouteEnter:function(e,t,r){r(function(t){t.address={},"buyNow"===e.query.from?t.getBuyNowList():"sketch"===e.query.from?t.getSketchBuyList():"joinShop"===e.query.from?t.getJoinShopConfirmOrderDetail():t.getList(),e.query.consignee&&(t.address=e.query)})}},l=h,p=(r("163d"),r("17cc")),m=Object(p["a"])(l,s,a,!1,null,"77db6ca8",null);t["default"]=m.exports},f2f7:function(e,t,r){}}]);